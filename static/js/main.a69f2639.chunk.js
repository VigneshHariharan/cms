(window.webpackJsonpcms=window.webpackJsonpcms||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},32:function(e,t,a){},35:function(e,t,a){e.exports=a(46)},44:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l),s=a(3),c=a(4),i=a(6),m=a(5),u=a(7),d=a(17),p=a(15),h=a(2),g=a(18),f=a(22),b=a(13);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(b.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var y={userLogin:{username:localStorage.getItem("usernameOfUser"),password:localStorage.getItem("passwordOfUser"),token:localStorage.getItem("userToken")?localStorage.getItem("userToken"):""},adminLogin:{username:localStorage.getItem("usernameOfAdmin"),password:localStorage.getItem("passwordOfAdmin"),token:localStorage.getItem("adminToken")?localStorage.getItem("adminToken"):""},technicianLogin:{username:localStorage.getItem("usernameOfTechnician"),password:localStorage.getItem("passwordOfTechnician"),token:localStorage.getItem("technicianToken")?localStorage.getItem("technicianToken"):""},loggedIn:"",users:[{username:"vigneshph",password:"Pass1strong"},{username:"watercans",password:"Regexp33"}],admin:[{username:"adminiams",password:"AdminPass1"}],technicians:localStorage.getItem("technicians")?JSON.parse(localStorage.getItem("technicians")):[]};function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(b.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var N={form:{block:"",floor:"",systemNumber:0,description:"",technician:"",completeStatus:"In progress",assignStatus:"",assignedTechnician:"",sendBy:"",approvedStatus:"not-approved"},complaints:localStorage.getItem("complaints")},I=Object(g.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return localStorage.setItem("usernameOfUser",t.payload.username),localStorage.setItem("passwordOfUser",t.payload.password),localStorage.setItem("userToken","loggedIn"),localStorage.setItem("token","loggedIn"),S({},e,{userLogin:{username:localStorage.getItem("usernameOfUser"),password:localStorage.getItem("passwordOfUser"),token:localStorage.getItem("userToken")},loggedIn:"user"});case"ADMIN_LOGIN":return localStorage.setItem("usernameOfAdmin",t.payload.username),localStorage.setItem("passwordOfAdmin",t.payload.password),localStorage.setItem("adminToken","adminLoggedIn"),localStorage.setItem("token","adminLoggedIn"),S({},e,{adminLogin:{username:localStorage.getItem("usernameOfAdmin"),password:localStorage.getItem("passwordOfAdmin"),token:localStorage.setItem("adminToken","adminLoggedIn")},loggedIn:"admin"});case"TECHNICIAN_LOGIN":return localStorage.setItem("usernameOfTechnician",t.payload.username),localStorage.setItem("passwordOfTechnician",t.payload.password),localStorage.setItem("technicianToken","technicianLoggedIn"),localStorage.setItem("token","technicianLoggedIn"),S({},e,{technicianLogin:{username:localStorage.getItem("usernameOfTechnician"),password:localStorage.getItem("passwordOfTechnician"),token:localStorage.setItem("technicianToken","technicianLoggedIn")},loggedIn:"technician"});case"ADD_TECHNICIAN":var a={username:t.payload.username,password:t.payload.password};return localStorage.setItem("technicians",JSON.stringify([].concat(Object(f.a)(e.technicians),[a]))),S({},e,{technicians:JSON.parse(localStorage.getItem("technicians"))});default:return S({},e,{loggedIn:""})}},complaint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LIST":return localStorage.getItem("complaints")||(e.complaints=[]),localStorage.setItem("complaints",JSON.stringify([].concat(Object(f.a)(e.complaints),[t.payload]))),k({},e,{complaints:JSON.parse(localStorage.getItem("complaints"))});case"ASSIGN_TECHNICIAN":return e.complaints[t.payload.index].technician=t.payload.technician,e.complaints[t.payload.index].assignedTechnician=t.payload.technician,localStorage.setItem("assign",!0),e.complaints[t.payload.index].assignStatus=localStorage.getItem("assign"),localStorage.setItem("complaints",JSON.stringify(e.complaints)),k({},e,{complaints:JSON.parse(localStorage.getItem("complaints"))});case"COMPLETED_STATUS":return e.complaints[t.payload.index].completeStatus="Completed",localStorage.setItem("complaints",JSON.stringify(e.complaints)),k({},e,{complaints:JSON.parse(localStorage.getItem("complaints"))});case"USER_LOGOUT":return localStorage.removeItem("usernameOfUser"),localStorage.removeItem("passwordOfUser"),localStorage.removeItem("userToken"),k({},e);case"TECHNICIAN_LOGOUT":return localStorage.removeItem("usernameOfTechnician"),localStorage.removeItem("passwordOfTechnician"),localStorage.removeItem("technicianToken"),k({},e);case"ADMIN_LOGOUT":return localStorage.removeItem("usernameOfAdmin"),localStorage.removeItem("passwordOfAdmin"),localStorage.removeItem("adminToken"),k({},e);case"APPROVED_STATUS":return e.complaints[t.payload.index].approvedStatus="Completed",localStorage.setItem("complaints",JSON.stringify(e.complaints)),k({},e,{complaints:JSON.parse(localStorage.getItem("complaints"))});default:return localStorage.getItem("complaints")?k({},e,{complaints:JSON.parse(localStorage.getItem("complaints"))}):k({},e,{complaints:[]})}}}),w=Object(g.d)(I,Object(g.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),v=(a(44),a(31),new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})")),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleKeyPress=function(e){"Enter"===e.key&&a.passwordRef.current.focus()},a.handleClick=function(){var e=a.props,t=e.admin,n=e.adminLogin,r=a.state,l=r.username,o=r.password;l.length>8&&v.test(o)?t.map(function(e){return l===e.username&&o===e.password?n(l,o):a.usersLogin(l,o)}):a.setState({wrongFormat:"Password should have 8 chars,1 upp case,1 low case,1 num",error:""})},a.usersLogin=function(e,t){var n=a.props,r=n.users,l=n.shouldLogin;return r.map(function(n){return e===n.username&&t===n.password?l(e,t):a.technicianLogin(e,t)})},a.technicianLogin=function(e,t){var n=a.props,r=n.technicians,l=n.shouldTechnicianLogin;return r.map(function(n){return e===n.username&&t===n.password?l(e,t):a.setState({error:"Username or password is wrong",wrongFormat:""})})},a.handleSubmit=function(e){e.preventDefault()},a.state={username:"",password:"",error:"",wrongFormat:""},a.userRef=r.a.createRef(),a.passwordRef=r.a.createRef(),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")||this.userRef.current.focus()}},{key:"render",value:function(){var e=this.props.loggedIn;return e?"user"===e?r.a.createElement(p.a,{to:"/dashboard"}):"admin"===e?r.a.createElement(p.a,{to:"/admindashboard"}):"technician"===e?r.a.createElement(p.a,{to:"/techniciandashboard"}):void 0:r.a.createElement("div",{className:"formDiv"},r.a.createElement("form",{className:"formwidth",onSubmit:this.handleSubmit},r.a.createElement("p",{className:"login"},"LOG IN"),r.a.createElement("div",{className:"textboxDiv"},r.a.createElement("i",{className:"fa fa-user icon","aria-hidden":"true"}),r.a.createElement("input",{ref:this.userRef,placeholder:"Username",className:"textbox",name:"username",type:"text",onKeyPress:this.handleKeyPress,onChange:this.handleChange})),r.a.createElement("div",{className:"textboxDiv textboxDiv1"},r.a.createElement("i",{className:"fa fa-lock icon"}),r.a.createElement("input",{ref:this.passwordRef,placeholder:"Password",className:"textbox",name:"password",type:"password",onChange:this.handleChange}))," ",r.a.createElement("br",null),this.state.error?r.a.createElement("i",{className:"fa fa-exclamation-triangle warning-icon","aria-hidden":"true"},r.a.createElement("p",{className:"errorMsg"},this.state.error)):"",this.state.wrongFormat?r.a.createElement("i",{className:"fa fa-exclamation-triangle warning-icon","aria-hidden":"true"},r.a.createElement("p",{className:"errorMsg"},this.state.wrongFormat)):"",r.a.createElement("div",{className:"textboxDiv1"},r.a.createElement("button",{className:"button",onClick:this.handleClick,type:"submit"},"Login"))),r.a.createElement("div",{style:{border:"1px solid grey",fontSize:"16px",width:"100px"}},'username: "adminiams", password: "AdminPass1", username: "vigneshph", password: "Pass1strong"'))}}]),t}(n.Component),T=Object(h.b)(function(e){return{users:e.login.users,admin:e.login.admin,technicians:e.login.technicians,loggedIn:e.login.loggedIn}},function(e){return{shouldLogin:function(t,a){return e({type:"LOGIN",payload:{username:t,password:a}})},adminLogin:function(t,a){return e({type:"ADMIN_LOGIN",payload:{username:t,password:a}})},shouldTechnicianLogin:function(t,a){return e({type:"TECHNICIAN_LOGIN",payload:{username:t,password:a}})}}})(C),j=function(e){return r.a.createElement("div",null,r.a.createElement("div",{id:"dashboard"},r.a.createElement("h1",{id:"heading"},"Dashboard"),r.a.createElement("button",{id:"logout",name:"logout",onClick:e.handleClick},"Logout")))},L=(a(24),Object(h.b)(function(e){return{complaints:e.complaint.complaints,technicians:e.login.technicians,technicianUsername:e.login.username}})(function(e){var t=localStorage.getItem("complaints")?e.complaints:[];return r.a.createElement("table",{id:"table",style:{width:"60%",display:"inline"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"block"},"Block"),r.a.createElement("th",null,"Floor"),r.a.createElement("th",null,"System Number"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Created Time"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,t?t.map(function(e,t){return"admin"!==e.sendBy?r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"block"},e.block),r.a.createElement("td",null,e.floor),r.a.createElement("td",null,e.systemNumber),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.createdTime),r.a.createElement("td",null,"Completed"===e.approvedStatus?"completed":"in-progress")):r.a.createElement("tr",{className:"hidden",key:t},r.a.createElement("td",null))}):""))})),P=(a(32),function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n}),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSystemNumber=function(e){if("systemNumber"===e.target.name)if(Number.isInteger(parseInt(e.target.value)))a.setState({systemNumber:e.target.value});else if(isNaN(parseInt(e.target.value)))return a.setState({err:!0})},a.handleChange=function(e){"floor"!==e.target.name&&"systemNumber"!==e.target.name&&a.setState(Object(b.a)({},e.target.name,e.target.value)),"block"===e.target.name&&(a.floorMap(e.target.value),a.setState({floorView:!1}))},a.floorMap=function(e){switch(e){case"block-2":return a.setState({floorNo:[1,2,3,4,5]});case"block-3":return a.setState({floorNo:[1,2,3,4,5,6]});case"block-4":return a.setState({floorNo:[1,2,3,4,5,6,7]});default:return a.setState({floorNo:[1,2,3,4]})}},a.handleKeyPress=function(e){"Enter"===e.key&&"systemNumber"===e.target.name&&a.descRef.current.focus()},a.handleClick=function(e){var t=a.state,n=t.block,r=t.floor,l=t.systemNumber,o=t.description;parseInt(l)%1===0&&""!==a.state.description?(a.props.setForm(n,r,l,o,a.props.sendBy),a.setState({err:!1}),"submit"===e.target.name&&a.setState({formErr:!0})):(a.setState({err:!0}),a.setState({systemNumber:""})),a.setState({block:"block-1",floor:"floor-1",systemNumber:"",description:""})},a.state={block:"block-1",floorNo:[1,2,3,4],floor:"floor-1",systemNumber:"",description:"",err:!1,formErr:""},a.systemRef=r.a.createRef(),a.descRef=r.a.createRef(),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("form",{style:{width:"30%",display:"block"},className:"container complaint-form",onSubmit:this.handleSubmit},r.a.createElement("button",{className:"closeButton",name:"complaintform",onClick:this.props.show},"\xd7"),r.a.createElement("h1",{className:"heading"},"Complaint-Form"),r.a.createElement("label",{className:"label"},"Block : "),"\xa0",r.a.createElement("select",{name:"block",id:"myList",onChange:this.handleChange},r.a.createElement("option",null,"block-1"),r.a.createElement("option",null,"block-2"),r.a.createElement("option",null,"block-3"),r.a.createElement("option",null,"block-4")),r.a.createElement("br",null),r.a.createElement("label",{className:"label"},"Floor : "),"\xa0",r.a.createElement("select",{name:"floor",onChange:this.handleChange,id:"myList"},this.state.floorNo?this.state.floorNo.map(function(e){return r.a.createElement("option",{key:(100*e).toString()},"floor-".concat(e))}):""),r.a.createElement("br",null),r.a.createElement("label",{className:"label"},"System Number : "),r.a.createElement("input",{ref:this.systemRef,onKeyPress:this.handleKeyPress,name:"systemNumber",type:"number",onChange:this.handleSystemNumber,step:1,value:this.state.systemNumber}),r.a.createElement("br",null),r.a.createElement("label",{className:"label"},"Description :"),r.a.createElement("textarea",{ref:this.descRef,name:"description",onChange:this.handleChange,value:this.state.description})," ",r.a.createElement("br",null),r.a.createElement("button",{name:"submit",className:"submit",onClick:this.handleClick,type:"submit"},"Submit"),this.state.err?r.a.createElement("p",{style:{display:"inline",fontSize:"16px",marginLeft:"80px",marginRight:"10px"}},"Enter a number"):"",this.state.formErr?r.a.createElement("p",{style:{color:"green"}},"form submitted"):"")}}]),t}(n.Component),D=Object(h.b)(null,function(e){return{setForm:function(t,a,n,r,l){return e({type:"ADD_LIST",payload:{block:t,floor:a,systemNumber:n,description:r,sendBy:l,createdTime:P(new Date),technician:""}})}}})(A),x=(a(25),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleComplaintform=function(e){a.setState({show:!a.state.show})},a.handleLogout=function(e){a.props.logout(),a.setState({token:localStorage.getItem("userToken")})},a.state={token:localStorage.getItem("userToken")?localStorage.getItem("userToken"):"",show:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.token?r.a.createElement("div",null,r.a.createElement(j,{handleClick:this.handleLogout,token:this.state.token}),r.a.createElement("button",{id:"Add-a-Complaint",name:"complaintform",onClick:this.handleComplaintform},"Add a Complaint"),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"100%",display:"flex"}},r.a.createElement(L,null),this.state.show?r.a.createElement(D,{show:this.handleComplaintform,sendBy:"user"}):"")):r.a.createElement(p.a,{to:"/"})}}]),t}(n.Component)),R=Object(h.b)(null,function(e){return{logout:function(){return e({type:"USER_LOGOUT"})}}})(x),_=a(16),U=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"),F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleKeyPress=function(t){"Enter"===t.key&&("firstName"===t.target.name?e.lastnameRef.current.focus():"lastName"===t.target.name?e.passwordRef.current.focus():"password"===t.target.name&&(console.log("passssss"),e.cpasswordRef.current.focus()))},e.handleClick=function(){var t=e.state,a=t.firstName,n=t.lastName,r=t.password,l=t.cPassword,o="".concat(a," ").concat(n);o.length>8&&U.test(r)&&r===l&&(e.props.setTechnician(o,r),e.setState({firstName:"",lastName:"",password:"",cPassword:"",submitFeedback:"Successfully submitted"}))},e.state={firstName:"",lastName:"",password:"",cPassword:"",submitFeedback:"Enter the above details to sumbit the form!"},e.firstnameRef=r.a.createRef(),e.lastnameRef=r.a.createRef(),e.passwordRef=r.a.createRef(),e.cpasswordRef=r.a.createRef(),e.handleChange=e.handleChange.bind(Object(_.a)(e)),e.handleSumbit=e.handleSumbit.bind(Object(_.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.firstnameRef.current.focus()}},{key:"handleSumbit",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement("div",{className:"technician",style:{width:"30%",display:"inline"}},r.a.createElement("button",{className:"closeButton",name:"form",onClick:this.props.show},"\xd7"),r.a.createElement("form",{className:"form",onSubmit:this.handleSumbit},r.a.createElement("h1",{className:"heading"},"Technician Details"),r.a.createElement("div",{className:"container"},r.a.createElement("label",{className:"label"},"First Name",r.a.createElement("span",{className:"asterick"},"*")),r.a.createElement("input",{className:"technician-form",ref:this.firstnameRef,type:"text",name:"firstName",required:!0,value:this.state.firstName,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement("br",null),r.a.createElement("label",{className:"label"}," Last Name",r.a.createElement("span",{className:"asterick"},"*")),r.a.createElement("input",{className:"technician-form",ref:this.lastnameRef,type:"text",name:"lastName",required:!0,value:this.state.lastName,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement("br",null),r.a.createElement("label",{className:"label"}," Password",r.a.createElement("span",{className:"asterick"},"*")),r.a.createElement("input",{className:"technician-form",ref:this.passwordRef,type:"password",name:"password",required:!0,value:this.state.password,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement("br",null),r.a.createElement("label",{className:"label"}," Confirm Password ",r.a.createElement("span",{className:"asterick"},"*")),r.a.createElement("input",{className:"technician-form",ref:this.cpasswordRef,type:"password",name:"cPassword",required:!0,value:this.state.cPassword,onChange:this.handleChange}),r.a.createElement("br",null),"Successfully submitted"!==this.state.submitFeedback?r.a.createElement("label",{className:"label",style:{display:"inline"}},"Enter the above details to sumbit the form!"):r.a.createElement("label",{style:{color:"green"}},"Succesfully submitted!"),r.a.createElement("button",{className:"submit",type:"submit",onClick:this.handleClick},"submit"))))}}]),t}(n.Component),J=Object(h.b)(null,function(e){return{setTechnician:function(t,a){return e({type:"ADD_TECHNICIAN",payload:{username:t,password:a}})}}})(F),B=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleSelect=function(t){e.setState({selectedOption:t.target.value})},e.handleClick=function(t){e.props.assignTechnician(e.state.selectedOption,t)},e.handleButtonClick=function(t){e.props.approveStatus(t)},e.state={selectedOption:localStorage.getItem("technicians")?JSON.parse(localStorage.getItem("technicians"))[0].username:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=localStorage.getItem("technicians")?this.props.technicians:[],a=localStorage.getItem("complaints")?this.props.complaints:[];return r.a.createElement("table",{id:"table",style:{width:"60%",display:"inline"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"block"},"Block"),r.a.createElement("th",null,"Floor"),r.a.createElement("th",null,"System Number"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Created Time"),r.a.createElement("th",{className:"assign-function"},"Assign Function"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,a?a.map(function(a,n){return r.a.createElement("tr",{key:(2e3*n).toString()},r.a.createElement("td",{className:"block"},a.block),r.a.createElement("td",null,a.floor),r.a.createElement("td",null,a.systemNumber),r.a.createElement("td",null,a.description),r.a.createElement("td",null,a.createdTime),r.a.createElement("td",null,r.a.createElement("select",{value:a.assignedTechnician,disabled:!!a.assignStatus||"",onChange:e.handleSelect},r.a.createElement("option",null,"--select any one--"),t.map(function(e,t){return r.a.createElement("option",{key:(1e3*t).toString()},e.username)})),r.a.createElement("button",{onClick:function(){return e.handleClick(n)},disabled:!!a.assignStatus||""},"Assign")),r.a.createElement("td",null,a.completeStatus?"completed":"in-progress",r.a.createElement("button",{onClick:function(){return e.handleButtonClick(n)},disabled:a.approvedStatus===a.completeStatus},"Completed"===a.approvedStatus?"Approved":"Approve")))}):""))}}]),t}(n.Component),G=Object(h.b)(function(e){return{complaints:e.complaint.complaints,technicians:e.login.technicians,technicianUsername:e.login.username}},function(e){return{assignTechnician:function(t,a){return e(function(e,t){return{type:"ASSIGN_TECHNICIAN",payload:{technician:e,index:t}}}(t,a))},approveStatus:function(t){return e(function(e){return{type:"APPROVED_STATUS",payload:{index:e}}}(t))}}})(B),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleTechnicianClick=function(){a.setState({visible:!a.state.visible,show:!1})},a.handleComplaintClick=function(){a.setState({show:!a.state.show,visible:!1})},a.handleLogoutClick=function(){a.props.logout(),a.setState({token:localStorage.getItem("adminToken")})},a.state={token:localStorage.getItem("adminToken"),visible:!1,show:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return localStorage.getItem("adminToken")?r.a.createElement("div",null,r.a.createElement(j,{handleClick:this.handleLogoutClick,token:this.state.token}),r.a.createElement("button",{id:"Add-a-Technican",name:"form",onClick:this.handleTechnicianClick},"Add a Technician"),r.a.createElement("button",{id:"Add-a-Complaint",name:"complaintform",onClick:this.handleComplaintClick},"Add a Complaint"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"100%",display:"flex"}},r.a.createElement(G,null),this.state.visible?r.a.createElement(J,{className:"technicianform",show:this.handleTechnicianClick}):"",this.state.show?r.a.createElement(D,{show:this.handleComplaintClick,sendBy:"admin"}):"")):r.a.createElement(p.a,{to:"/"})}}]),t}(n.Component),K=Object(h.b)(null,function(e){return{logout:function(){return e({type:"ADMIN_LOGOUT"})}}})(M),H=Object(h.b)(function(e){return{complaints:e.complaint.complaints,technicians:e.login.technicians,technicianUsername:e.login.technicianLogin.username}},function(e){return{isCompleted:function(t){return e({type:"COMPLETED_STATUS",payload:{index:t}})}}})(function(e){var t=localStorage.getItem("complaints")?e.complaints:[];return r.a.createElement("table",{id:"table",style:{width:"60%",display:"inline"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"block"},"Block"),r.a.createElement("th",null,"Floor"),r.a.createElement("th",null,"System Number"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Created Time"),r.a.createElement("th",{className:"status"},"Status"))),r.a.createElement("tbody",null,t?t.map(function(t,a){var n="Completed"===JSON.parse(localStorage.getItem("complaints"))[a].completeStatus,l="Completed"===JSON.parse(localStorage.getItem("complaints"))[a].approvedStatus;return e.technicianUsername===t.technician?r.a.createElement("tr",{key:(1001*a).toString()},r.a.createElement("td",{className:"block"},t.block),r.a.createElement("td",null,t.floor),r.a.createElement("td",null,t.systemNumber),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.createdTime),r.a.createElement("td",{className:"status"},r.a.createElement("button",{disabled:n,onClick:function(){return e.isCompleted(a)}},"Completed"),l?"approved":n?"Completed":"in-progress")):r.a.createElement("tr",{key:(8e3*(a+1)).toString()})}):""))}),V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){a.props.logout(),a.setState({token:localStorage.getItem("technicianToken")})},a.state={token:localStorage.getItem("technicianToken")?localStorage.getItem("technicianToken"):""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.token?r.a.createElement("div",null,r.a.createElement(j,{handleClick:this.handleLogout,token:this.state.token}),r.a.createElement("br",null),r.a.createElement(H,null)):r.a.createElement(p.a,{to:"/"})}}]),t}(n.Component),q=Object(h.b)(null,function(e){return{logout:function(){return e({type:"TECHNICIAN_LOGOUT"})}}})(V),z=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(h.a,{store:w},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:T}),r.a.createElement(p.b,{exact:!0,path:"/dashboard/",component:R}),r.a.createElement(p.b,{exact:!0,path:"/admindashboard/",component:K}),r.a.createElement(p.b,{exact:!0,path:"/techniciandashboard/",component:q}),r.a.createElement(p.b,{exact:!0,path:"/dashboard/complaintform/",component:D}),r.a.createElement(p.b,{exact:!0,path:"/admindashboard/complaintform/",component:D}),r.a.createElement(p.b,{exact:!0,path:"*",component:function(){return r.a.createElement("h1",null,"Different Page")}})))))}}]),t}(n.Component);var X=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(z,null))};o.a.render(r.a.createElement(X,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.a69f2639.chunk.js.map